---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - metallb.yaml

patches:
  - target:
      kind: IPAddressPool
      #name: ${pool_name}
      name: example
    patch: |-
      apiVersion: metallb.io/v1beta1
      kind: IPAddressPool
      metadata:
        name: example
      spec:
        avoidBuggyIPs: true
        addresses:
          - 10.10.10.207/32
          - 10.10.10.208/32
          - 10.10.10.209/32

#patchesJson6902:
#  - target:
#      version: v1beta1
#      group: metallb.io
#      kind: IPAddressPool
#      name: example2
##      namespace: metallb-system
#
##      name: ${pool_name}
##      namespace: ${namespace_name:=default}
#    patch: |-
#      - op: replace
#        path: /spec/addresses
#        value: |-
#          - 10.10.10.27/32
#          - 10.10.10.28/32
#          - 10.10.10.29/32
